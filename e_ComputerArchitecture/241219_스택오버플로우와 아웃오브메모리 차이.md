# 스택 오버플로우(Stack Overflow)와 아웃 오브 메모리(OutOfMemoryError)의 차이

## 개요

소프트웨어 실행 중 발생할 수 있는 메모리 관련 오류로는 **스택 오버플로우(Stack Overflow)**와 **아웃 오브 메모리(OutOfMemoryError)**가 있습니다. 이 두 오류는 모두 메모리 자원과 관련되어 있지만, 발생하는 영역과 원인이 다릅니다. 이 문서에서는 각 오류가 어떤 상황에서 발생하며, 어떤 차이를 가지는지 살펴보겠습니다.

---

## 스택 오버플로우(Stack Overflow)

### 정의
스택 오버플로우는 **프로그램 실행을 위한 스택 메모리 영역이 초과**되었을 때 발생하는 오류입니다. 스택(Stack)은 메서드 호출 시 사용되는 지역 변수, 매개변수, 함수 호출 기록(스택 프레임) 등을 저장하는 메모리 공간입니다.

### 원인
- **과도한 재귀 호출(Recursive call)**: 종료 조건 없이 메서드를 재귀적으로 호출하면 스택 프레임이 무한히 쌓여 스택 영역을 초과합니다.
- **매우 큰 지역 변수 할당**: 메서드 내부에서 매우 큰 크기의 배열 등 로컬 변수를 할당하면 스택 용량을 초과할 수 있습니다.

### 예시 (자바 코드)
```java
public class StackOverflowExample {
    public static void main(String[] args) {
        recursiveCall();
    }

    public static void recursiveCall() {
        // 종료 조건 없는 재귀 호출 -> 스택 오버플로우 발생
        recursiveCall();
    }
}
```

이 코드 실행 시, 재귀 호출이 계속되어 스택 메모리가 가득 차 StackOverflowError를 발생시킵니다.

### 특징
- 주로 **함수 호출 스택의 한계**를 초과하는 상황에서 발생
- 오류 메시지: `java.lang.StackOverflowError`

---

## 아웃 오브 메모리(OutOfMemoryError)

### 정의
아웃 오브 메모리 오류는 **힙(Heap) 메모리 또는 특정 메모리 영역이 모두 사용되어 더 이상 객체나 데이터를 할당할 수 없는 상황**에서 발생합니다. 힙은 주로 동적으로 생성되는 객체를 저장하는 메모리 공간입니다.

### 원인
- **계속되는 객체 생성**: 필요 이상으로 많은 객체를 생성하고, 가비지 컬렉션(GC)으로 해제되지 않으면 힙 메모리를 모두 사용하게 됩니다.
- **메모리 누수(Memory leak)**: 사용하지 않는 객체가 참조로 인해 해제되지 않는 경우, 시간이 지날수록 힙이 가득 차게 됩니다.
- **너무 큰 데이터 구조 할당**: 매우 큰 컬렉션(List, Map)이나 대용량 파일 내용을 한 번에 로드할 경우 힙 메모리 초과.

### 예시 (자바 코드)
```java
import java.util.ArrayList;
import java.util.List;

public class OutOfMemoryExample {
    public static void main(String[] args) {
        List<byte[]> list = new ArrayList<>();
        while (true) {
            // 새로운 큰 배열을 계속 추가하며 힙 메모리를 소진
            list.add(new byte[1024 * 1024]); // 1MB 배열 추가
        }
    }
}
```

이 코드 실행 시, 무한 루프 내에서 대용량 배열을 계속 생성하여 힙을 가득 채우므로 OutOfMemoryError가 발생합니다.

### 특징
- 주로 **힙 메모리 부족**으로 인한 객체 할당 실패
- 오류 메시지: `java.lang.OutOfMemoryError`

---

## 스택 오버플로우 vs 아웃 오브 메모리 차이점

| 구분               | 스택 오버플로우(Stack Overflow)             | 아웃 오브 메모리(OutOfMemoryError)              |
|--------------------|---------------------------------------------|------------------------------------------------|
| 발생 영역          | 스택(Stack) 영역                           | 힙(Heap) 메모리 영역                            |
| 주된 원인          | 과도한 재귀 호출, 큰 로컬 변수 할당        | 무한 객체 생성, 메모리 누수, 대용량 데이터 구조 |
| 오류 유형          | `StackOverflowError`                        | `OutOfMemoryError`                              |
| 해결 방법          | 재귀 종료 조건 추가, 스택 크기 줄이기      | 메모리 누수 제거, 객체 생성 최소화, GC 유도     |

---

## 결론

- **스택 오버플로우(Stack Overflow)**는 스택 메모리를 초과하는 상황(주로 재귀 호출)에서 발생합니다.
- **아웃 오브 메모리(OutOfMemoryError)**는 힙 메모리를 비롯한 다른 메모리 영역이 부족해 더 이상 객체를 생성할 수 없을 때 발생합니다.

두 문제 모두 메모리 자원 관리를 소홀히 했을 때 나타나는 오류이지만, 어느 영역(스택 vs 힙)에서 문제가 발생하는지에 따라 해결 방법과 접근 방식이 달라집니다. 프로그램 실행 과정에서 재귀 함수를 올바르게 관리하고, 객체 생성을 합리적으로 제어하는 등의 메모리 관리 기법을 통해 이러한 오류를 예방할 수 있습니다.
